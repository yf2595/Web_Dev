(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-77501866"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"14c3":function(e,t,r){var i=r("c6b6"),n=r("9263");e.exports=function(e,t){var r=e.exec;if("function"===typeof r){var o=r.call(e,t);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(e))throw TypeError("RegExp#exec called on incompatible receiver");return n.call(e,t)}},37906:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container"},[r("div",[r("h1",{staticClass:"title"},[e._v("Search Page")]),e.ShowingResults?r("b-button",{attrs:{id:"back",type:"submit",variant:"primary"},on:{click:function(t){e.ShowingResults=!1}}},[e._v("Back To Search")]):e._e(),r("b-form",{on:{submit:function(t){return t.preventDefault(),e.onSearch(t)},reset:function(t){return t.preventDefault(),e.onReset(t)}}},[e.ShowingResults?e._e():r("b-form-group",{attrs:{id:"input-group-name","label-cols-sm":"3",label:"Recipe name:","label-for":"nameRecipe"}},[r("b-form-input",{attrs:{id:"nameRecipe",type:"text",state:e.validateState("nameRecipe")},model:{value:e.form.nameRecipe,callback:function(t){e.$set(e.form,"nameRecipe",t)},expression:"form.nameRecipe"}}),e.$v.form.nameRecipe.required?e._e():r("b-form-invalid-feedback",[e._v(" Recipe's name is required ")])],1),e.ShowingResults?e._e():r("b-form-group",{attrs:{id:"input-group-amount","label-cols-sm":"3",label:"Amount:","label-for":"amount"}},[r("b-form-select",{attrs:{id:"amount",options:e.amount_options,state:e.validateState("amount")},model:{value:e.form.amount,callback:function(t){e.$set(e.form,"amount",t)},expression:"form.amount"}}),e.$v.form.amount.required?e._e():r("b-form-invalid-feedback",[e._v(" amount is required ")])],1),e.ShowingResults?e._e():r("b-form-group",{attrs:{id:"input-group-sort","label-cols-sm":"3",label:"Sort by:","label-for":"sort"}},[r("b-form-select",{attrs:{id:"sort",options:e.sort_options,state:e.validateState("sort")},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}}),e.$v.form.sort.required?e._e():r("b-form-invalid-feedback",[e._v(" sort is required ")])],1),e.ShowingResults?e._e():r("b-form-group",{attrs:{id:"input-group-filter","label-cols-sm":"3",label:"Filter by:","label-for":"filter"}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.form.filter,expression:"form.filter"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"filter"},domProps:{checked:Array.isArray(e.form.filter)?e._i(e.form.filter,null)>-1:e.form.filter},on:{change:function(t){var r=e.form.filter,i=t.target,n=!!i.checked;if(Array.isArray(r)){var o=null,a=e._i(r,o);i.checked?a<0&&e.$set(e.form,"filter",r.concat([o])):a>-1&&e.$set(e.form,"filter",r.slice(0,a).concat(r.slice(a+1)))}else e.$set(e.form,"filter",n)}}})]),e.ShowingResults?e._e():r("b-form-group",{attrs:{id:"input-group-cuisine","label-cols-sm":"3",label:"Cuisine:","label-for":"cuisine"}},[r("b-form-select",{attrs:{id:"cuisine",disabled:!e.form.filter,options:e.cuisines},model:{value:e.form.cuisine,callback:function(t){e.$set(e.form,"cuisine",t)},expression:"form.cuisine"}})],1),e.ShowingResults?e._e():r("b-form-group",{attrs:{id:"input-group-diet","label-cols-sm":"3",label:"Diet:","label-for":"diet"}},[r("b-form-select",{attrs:{id:"diet",disabled:!e.form.filter,options:e.diets},model:{value:e.form.diet,callback:function(t){e.$set(e.form,"diet",t)},expression:"form.diet"}})],1),e.ShowingResults?e._e():r("b-form-group",{attrs:{id:"input-group-intolerance","label-cols-sm":"3",label:"Intolerance:","label-for":"intolerance"}},[r("b-form-select",{attrs:{id:"intolerance",disabled:!e.form.filter,options:e.intolerances},model:{value:e.form.intolerance,callback:function(t){e.$set(e.form,"intolerance",t)},expression:"form.intolerance"}})],1),e.ShowingResults?e._e():r("b-button",{attrs:{type:"reset",variant:"danger"}},[e._v("Reset")]),e.ShowingResults?e._e():r("b-button",{staticClass:"ml-5 w-75",staticStyle:{width:"250px"},attrs:{type:"submit",variant:"primary"}},[e._v("Search")]),e.$root.store.username&&""==!e.lastSearch&&!e.ShowingResults?r("b-button",{staticClass:"research",attrs:{type:"button",variant:"warning"},on:{click:e.showLastSearch}},[e._v("Last search")]):e._e()],1),e.form.submitError?r("b-alert",{staticClass:"mt-2",attrs:{variant:"warning",dismissible:"",show:""}},[e._v(" Search failed: "+e._s(e.form.submitError)+" ")]):e._e(),e.ShowingResults?r("p",{staticStyle:{width:"400px"}},[e._v(e._s(e.form.nameRecipe)+" , amount: "+e._s(e.form.amount)+", order by: "+e._s(e.form.sort))]):e._e(),e.ShowingResults&&e.form.filter?r("p",{staticStyle:{width:"400px"}},[e._v("cuisine: "+e._s(e.form.cuisine)+" , diet: "+e._s(e.form.diet)+", intolerance: "+e._s(e.form.intolerance))]):e._e(),e.ShowingResults?r("RecipePreviewList",{key:e.key,attrs:{title:"Search result",path:e.searchPath}}):e._e()],1),r("div",{staticClass:"div-back"},[e.ShowingResults?r("b-button",{attrs:{id:"back",variant:"warning",type:"submit"},on:{click:function(t){e.ShowingResults=!1}}},[e._v("Back To Search")]):e._e()],1)])},n=[],o=(r("4de4"),r("4e82"),r("ac1f"),r("841c"),r("96cf"),r("1da1")),a=r("99d8"),s=r("b5ae"),l={name:"Search",components:{RecipePreviewList:a["a"]},data:function(){return{form:{nameRecipe:"",amount:"5",sort:"popularity",filter:!1,cuisine:"",diet:"",intolerance:"",submitError:void 0},sort_options:[{value:"popularity",text:"popularity"},{value:"time",text:"time"}],amount_options:[{value:"5",text:"5"},{value:"10",text:"10"},{value:"15",text:"15"}],cuisines:this.$root.cuisines,diets:this.$root.diets,intolerances:this.$root.intolerances,lastSearch:sessionStorage.getItem("lastSearch"),ShowingResults:!1,errors:[],validated:!1,searchPath:"",param:"",key:0}},validations:{form:{nameRecipe:{required:s["required"]},amount:{required:s["required"]},sort:{required:s["required"]}}},methods:{validateState:function(e){var t=this.$v.form[e],r=t.$dirty,i=t.$error;return r?!i:null},search:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:try{e.form.cuisine=""==e.form.cuisine?"None":e.form.cuisine,e.form.diet=""==e.form.diet?"None":e.form.diet,e.form.intolerance=""==e.form.intolerance?"None":e.form.intolerance,e.form.filter=0==e.form.filter?0:1,e.param="name="+e.form.nameRecipe+"&amount="+e.form.amount+"&filter="+e.form.filter+"&diet="+e.form.diet+"&cuisine="+e.form.cuisine+"&intolerances="+e.form.intolerance+"&sort="+e.form.sort,e.searchPath="/recipes/search?"+e.param,e.ShowingResults=!0,e.key+=1,r={nameRecipe:e.form.nameRecipe,amount:e.form.amount,sort:e.form.sort,filter:0!=e.form.filter,cuisine:e.form.cuisine,diet:e.form.diet,intolerance:e.form.intolerance,submitError:e.form.submitError},sessionStorage.setItem("lastSearch",JSON.stringify(r)),e.lastSearch=JSON.parse(sessionStorage.getItem("lastSearch"))}catch(i){console.log(i.response),e.form.submitError=i.response.data.message,e.$root.toast("OOPS","We run into a problem trying to get you the best results, please try again","danger")}case 1:case"end":return t.stop()}}),t)})))()},onSearch:function(){this.$v.form.$touch(),this.$v.form.$anyError?this.$root.toast("OOPS","Looked like you miss some importent fields, please fill the form correctly","warning"):this.search()},onReset:function(){var e=this;this.form={nameRecipe:"",amount:null,sort:null,filter:!1,cuisine:null,diet:null,intolerance:null},this.$nextTick((function(){e.$v.$reset()}))},showLastSearch:function(){this.lastSearch=JSON.parse(sessionStorage.getItem("lastSearch")),this.form={nameRecipe:this.lastSearch.nameRecipe,amount:this.lastSearch.amount,sort:this.lastSearch.sort,filter:this.lastSearch.filter,cuisine:this.lastSearch.cuisine,diet:this.lastSearch.diet,intolerance:this.lastSearch.intolerance}}}},c=l,u=(r("4876"),r("2877")),f=Object(u["a"])(c,i,n,!1,null,"7ec3f344",null);t["default"]=f.exports},4876:function(e,t,r){"use strict";var i=r("6d5d"),n=r.n(i);n.a},"4de4":function(e,t,r){"use strict";var i=r("23e7"),n=r("b727").filter,o=r("1dde"),a=r("ae40"),s=o("filter"),l=a("filter");i({target:"Array",proto:!0,forced:!s||!l},{filter:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})},"4e82":function(e,t,r){"use strict";var i=r("23e7"),n=r("1c0b"),o=r("7b0b"),a=r("d039"),s=r("a640"),l=[],c=l.sort,u=a((function(){l.sort(void 0)})),f=a((function(){l.sort(null)})),m=s("sort"),d=u||!f||!m;i({target:"Array",proto:!0,forced:d},{sort:function(e){return void 0===e?c.call(o(this)):c.call(o(this),n(e))}})},"6d5d":function(e,t,r){},"841c":function(e,t,r){"use strict";var i=r("d784"),n=r("825a"),o=r("1d80"),a=r("129f"),s=r("14c3");i("search",1,(function(e,t,r){return[function(t){var r=o(this),i=void 0==t?void 0:t[e];return void 0!==i?i.call(t,r):new RegExp(t)[e](String(r))},function(e){var i=r(t,e,this);if(i.done)return i.value;var o=n(e),l=String(this),c=o.lastIndex;a(c,0)||(o.lastIndex=0);var u=s(o,l);return a(o.lastIndex,c)||(o.lastIndex=c),null===u?-1:u.index}]}))},9263:function(e,t,r){"use strict";var i=r("ad6d"),n=r("9f7f"),o=RegExp.prototype.exec,a=String.prototype.replace,s=o,l=function(){var e=/a/,t=/b*/g;return o.call(e,"a"),o.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),c=n.UNSUPPORTED_Y||n.BROKEN_CARET,u=void 0!==/()??/.exec("")[1],f=l||u||c;f&&(s=function(e){var t,r,n,s,f=this,m=c&&f.sticky,d=i.call(f),p=f.source,h=0,v=e;return m&&(d=d.replace("y",""),-1===d.indexOf("g")&&(d+="g"),v=String(e).slice(f.lastIndex),f.lastIndex>0&&(!f.multiline||f.multiline&&"\n"!==e[f.lastIndex-1])&&(p="(?: "+p+")",v=" "+v,h++),r=new RegExp("^(?:"+p+")",d)),u&&(r=new RegExp("^"+p+"$(?!\\s)",d)),l&&(t=f.lastIndex),n=o.call(m?r:f,v),m?n?(n.input=n.input.slice(h),n[0]=n[0].slice(h),n.index=f.lastIndex,f.lastIndex+=n[0].length):f.lastIndex=0:l&&n&&(f.lastIndex=f.global?n.index+n[0].length:t),u&&n&&n.length>1&&a.call(n[0],r,(function(){for(s=1;s<arguments.length-2;s++)void 0===arguments[s]&&(n[s]=void 0)})),n}),e.exports=s},"9f7f":function(e,t,r){"use strict";var i=r("d039");function n(e,t){return RegExp(e,t)}t.UNSUPPORTED_Y=i((function(){var e=n("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),t.BROKEN_CARET=i((function(){var e=n("^r","gy");return e.lastIndex=2,null!=e.exec("str")}))},ac1f:function(e,t,r){"use strict";var i=r("23e7"),n=r("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==n},{exec:n})},d784:function(e,t,r){"use strict";r("ac1f");var i=r("6eeb"),n=r("d039"),o=r("b622"),a=r("9263"),s=r("9112"),l=o("species"),c=!n((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),u=function(){return"$0"==="a".replace(/./,"$0")}(),f=o("replace"),m=function(){return!!/./[f]&&""===/./[f]("a","$0")}(),d=!n((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]}));e.exports=function(e,t,r,f){var p=o(e),h=!n((function(){var t={};return t[p]=function(){return 7},7!=""[e](t)})),v=h&&!n((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[l]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return t=!0,null},r[p](""),!t}));if(!h||!v||"replace"===e&&(!c||!u||m)||"split"===e&&!d){var b=/./[p],g=r(p,""[e],(function(e,t,r,i,n){return t.exec===a?h&&!n?{done:!0,value:b.call(t,r,i)}:{done:!0,value:e.call(r,t,i)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:m}),S=g[0],x=g[1];i(String.prototype,e,S),i(RegExp.prototype,p,2==t?function(e,t){return x.call(e,this,t)}:function(e){return x.call(e,this)})}f&&s(RegExp.prototype[p],"sham",!0)}}}]);
//# sourceMappingURL=chunk-77501866.408d4918.js.map